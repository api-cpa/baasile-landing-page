<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Baasile IO</title>
    <meta name="description" content="">
    <meta name=viewport content="width=device-width, initial-scale=1">
    <meta name="mobile-web-app-capable" content="yes">

    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.4/semantic.min.css">
    <link rel="stylesheet" href="../assets/css/main.css">
</head>
<body>
<div class="ui vertical inverted center aligned segment">
    <div class="ui container">
        <div class="ui massive inverted secondary pointing menu">
            <a href="../" class="item"><img src="../assets/img/baasile-io-inverted-simple-x30.png"></a>
        </div>
    </div>
</div>
<div class="ui text container">
    <div class="ui stripe vertical segment">
        <h1 class="ui block header">
            <img src="../assets/img/baasile-io-200x200.png">
            <div class="content">
                Nouveautés
                <div class="sub header">CHANGELOG / 2016-10-06</div>
            </div>
        </h1>

        <h2>Restriction d'accès à l'API et au dashboard</h2>
        <p>
            Tout accès non sécurisé à l’API ou au tableau de bord génère une erreur <em>403 Accès Refusé</em>. <br />
            Vous êtes invités à mettre à jour vos favoris et les URI utilisées dans vos applications afin que vos utilisateurs ne soient pas impactés.
        </p>
        <div class="ui two column stackable grid">
            <div class="row">
                <div class="column">
                    <h5>Erreur via l'API</h5>
                    <pre>{
    "jsonapi": {
        "version": "1.0"
    },
    "links": {
        "self": "http://..."
    },
    "errors": [
        "forbidden_access",
        "You must use HTTPS protocol",
        "status_code:403"
    ]
}</pre>
                </div>
                <div class="column">
                    <h5>Erreur via le dashboard</h5>
                    <img class="ui bordered rounded image" src="../assets/img/changelog/2016-10-05-403.png">
                </div>
            </div>
        </div>

        <h2>Filtrez les résultats d'une requête API</h2>

        <p>
            Filtrez les résultats d’une requête en utilisant le paramètre "filter". <br />
            Cette fonctionnalité n’est actuellement disponible que sur les champs personnalisés des collections de donnée (uniquement sur les routes de type "donnees"). <br />
            Référez-vous à la documentation pour plus de détails.
        </p>
        <p>
            Exemple d’utilisation simple :
        </p>
        <pre>?filter[data.county]=75017</pre>
        <p>
            Se traduisant par : Toutes les données de la collection dont le code département est 75017.
        </p>
        <p>Exemple d’utilisation avec les opérateurs de logique ET ($and) et OR ($or) :</p>
        <pre>?filter[$and][data.county]=75017&filter[$and][$or][data.street]=Bd+Bessières&filter[$and][$or][data.number]=96
</pre>
        <p>
            Se traduisant par : Toutes les données de la collection dont le code du département est 75017 et dont l’une des deux conditions suivantes est remplie : Le nom de la rue est strictement égal à "Bd Bessières" ou le numéro de rue est strictement égal à "96" (ce qui n’a pas de sens, mais c’est pour l’exemple ;-)).
        </p>

        <h2>Paginez les résultats d’une requête API</h2>
        <p>
            Le nombre de résultats d’une requête est maintenant limité à 25 éléments par défaut. Vous pouvez augmenter ce nombre jusqu’à 200 maximum. <br />
            Lorsque le résultat d’une requête à l’API est paginée, le code HTTP de la réponse est <em>506 Partial Content</em>. Dans ce cas, des liens supplémentaires apparaissent dans le champs "links" de la réponse. <br />
            Référez-vous à la documentation pour plus de détails.
        </p>

        <h2>Choisissez les ressources liées à inclure dans une requête API</h2>
        <p>
            Attention : Cette fonctionnalité ne concerne pas les relations entre les collections de données. En effet elles ne sont pas encore implémentées.
        </p>
        <p>
            Incluez dans les réponses de l’API les ressources ayant une relation avec le type de ressource requêté grâce au paramètre "include". <br />
            Référez-vous à la documentation pour plus de détails.
        </p>

        <h2>Nouvelles routes sur l’API</h2>
        <p>
            Accédez plus facilement aux ressources grâce aux nouvelles routes simplifiées :
        </p>
        <pre>OLD: /api/v1/services/ID_SERVICE/relationships/collections
NEW: /api/v1/collections
</pre>
        <p>
            Info : Cette route permet d'obtenir la liste de toutes les collections publiques de la Plate-forme (ainsi que les collections privées rattachées au service réalisant la requête), et non plus seulement celles associées à un service en particulier.
        </p>
        <pre>OLD: /api/v1/services/ID_SERVICE/relationships/collections/ID_COLLECTION
NEW: /api/v1/collections/ID_COLLECTION
</pre>
        <pre>OLD: /api/v1/services/ID_SERVICE/relationships/collections/ID_COLLECTION/relationships/champs
NEW: /api/v1/collections/ID_COLLECTION/relationships/champs
</pre>
        <pre>OLD: /api/v1/services/ID_SERVICE/relationships/collections/ID_COLLECTION/relationships/donnees
NEW: /api/v1/collections/ID_COLLECTION/relationships/donnees
</pre>
        <pre>OLD: /api/v1/services/ID_SERVICE/relationships/collections/ID_COLLECTION/relationships/champs
NEW: /api/v1/champs
</pre>
        <p>
            Info : Cette route permet d'obtenir la liste de tous les champs rattachés au service réalisant la requête.
        </p>
        <pre>OLD: /api/v1/services/ID_SERVICE/relationships/collections/ID_COLLECTION/relationships/champs/ID_CHAMP
NEW: /api/v1/champs/ID_CHAMP
</pre>

        <h2>Tableau de bord utilisateur</h2>
        <p>
            Le nouveau tableau de bord vous permet de modifier vos informations personnelles (nom, prénom, adresse E-Mail et mot de passe). Accédez-y en cliquant sur votre nom en haut à droite du tableau de bord. <br />
            En cas de changement d’adresse E-Mail, vous devrez la valider en suivant les instructions reçues par courriel, sinon vous ne pourrez plus vous connecter ;-)
        </p>
        <p><img class="ui bordered rounded image" src="../assets/img/changelog/2016-10-05-user-dashboard.png"></p>

        <h2>Mot de passe oublié</h2>
        <p>
            Réinitialisez votre mot de passe via la page de connexion en cas d’oubli du mot de passe, à condition que vous vous rappeliez de votre adresse E-Mail ;-)
        </p>

        <h2>Testez les nouvelles fonctionnalités en avant-première (API-CPA)</h2>
        <p>
            Cette nouveauté concerne uniquement la plate-forme de production API-CPA : <br />
            Une Plate-forme de démo a été mise en place à l’adresse suivante : <br />
            <a href="https://api-cpa-staging.herokuapp.com" target="_blank">https://api-cpa-staging.herokuapp.com</a> <br />
            Testez-y en avant-première les nouvelles fonctionnalités en cours de développement et faites-nous part de vos remarques.
        </p>

        <h2>Autres nouveautés ou résolutions de bogues</h2>
        <div class="ui bulleted list">
            <div class="item">L’attribut 'public' des ressources est disponible via l’API</div>
            <div class="item">L’accès aux ressources privées via l’API est mieux protégé</div>
            <div class="item">La route '/api/v1/services/:ID_SERVICE' est opérationnelle</div>
            <div class="item">Gestion d’erreur de la Plate-forme améliorée</div>
            <div class="item">Toute survenance d’erreur sur la Plate-forme est notifiée en direct à ses administrateurs</div>
            <div class="item">La performance de la Plate-forme est maintenant surveillée en temps réel</div>
        </div>
    </div>
</div>
<div class="ui inverted vertical footer segment">
    <div class="ui container">
        <div class="ui stackable inverted divided equal height stackable grid">
            <div class="three wide column">
            </div>
            <div class="three wide column">
            </div>
            <div class="seven wide column">
            </div>
        </div>
    </div>
</div>
</body>
</html>